<Window x:Class="Kassa.CashierWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Кассир"
        Height="525"
        Width="900"
        WindowStartupLocation="CenterScreen">
        <Grid>
                <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <StackPanel Orientation="Horizontal"
                            Grid.Row="0"
                            HorizontalAlignment="Center">
                        <TextBlock Text="Добро пожаловать, Кассир!"
                                   FontSize="24"
                                   Margin="0,0,20,0"/>
                        <TextBlock x:Name="ShiftStatusTextBlock"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Margin="0,0,20,0"/>
                        <Button x:Name="OpenShiftButton"
                                Content="Открыть смену"
                                Width="140"
                                Height="32"
                                Margin="0,0,10,0"
                                Click="OpenShiftButton_Click"/>
                        <Button x:Name="CloseShiftButton"
                                Content="Закрыть смену"
                                Width="140"
                                Height="32"
                                Margin="0,0,0,0"
                                Click="CloseShiftButton_Click"/>
                </StackPanel>
                <!-- Контейнер для рабочих элементов (показывается при открытой смене) -->
                <Grid x:Name="WorkAreaGrid"
                      Margin="0,20,0,10"
                      Grid.Row="1">
                        <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Hall Selection Container -->
                        <GroupBox x:Name="HallSelectionContainer"
                                  Header="Выбор зала"
                                  Grid.Row="0"
                                  Margin="0,0,0,15"
                                  Padding="10">
                                <StackPanel x:Name="HallSelectionPanel"
                                            Orientation="Horizontal">
                                        <TextBlock Text="Зал:"
                                                   FontSize="16"
                                                   VerticalAlignment="Center"
                                                   Margin="0,0,8,0"/>
                                        <ComboBox x:Name="HallComboBox"
                                                  Width="180"
                                                  SelectionChanged="HallComboBox_SelectionChanged"/>
                                </StackPanel>
                        </GroupBox>

                        <!-- Table Selection Container -->
                        <GroupBox x:Name="TableSelectionContainer"
                                  Header="Выбор стола"
                                  Grid.Row="1"
                                  Margin="0,0,0,15"
                                  Padding="10">
                                <WrapPanel x:Name="TablesPanel"
                                           HorizontalAlignment="Left"/>
                        </GroupBox>

                        <!-- Order Creation Container -->
                        <GroupBox x:Name="OrderCreationContainer"
                                  Header="Управление заказами"
                                  Grid.Row="2"
                                  Padding="10">
                                <StackPanel x:Name="OrderButtonsPanel"
                                            Orientation="Horizontal">
                                        <Button Content="Создать заказ"
                                                Width="180"
                                                Height="40"
                                                HorizontalAlignment="Left"
                                                Click="CreateOrder_Click"
                                                Margin="0,0,10,0"/>
                                        <Button Content="На главную"
                                                Width="140"
                                                Height="40"
                                                HorizontalAlignment="Left"
                                                Click="GoHome_Click"/>
                                </StackPanel>
                        </GroupBox>
                </Grid>

                <!-- Панель истории заказов (показывается при закрытой смене) -->
                <Grid x:Name="ShiftHistoryGrid"
                      Margin="0,20,0,10"
                      Grid.Row="1"
                      Visibility="Collapsed">
                        <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="История заказов последней смены"
                                   FontSize="18"
                                   FontWeight="Bold"
                                   Grid.Row="0"
                                   Margin="0,0,0,15"
                                   HorizontalAlignment="Center"/>
                        <ScrollViewer Grid.Row="1"
                                      VerticalScrollBarVisibility="Auto">
                                <ListView x:Name="OrderHistoryListView"
                                          Background="Transparent"
                                          BorderThickness="0">
                                        <ListView.ItemTemplate>
                                                <DataTemplate>
                                                        <Border Background="White"
                                                                BorderBrush="#E0E0E0"
                                                                BorderThickness="1"
                                                                CornerRadius="8"
                                                                Margin="0,0,0,8"
                                                                Padding="15">
                                                                <Grid>
                                                                        <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="*"/>
                                                                                <ColumnDefinition Width="Auto"/>
                                                                        </Grid.ColumnDefinitions>
                                                                        <StackPanel Grid.Column="0">
                                                                                <TextBlock FontWeight="Bold"
                                                                                           FontSize="14"
                                                                                           Margin="0,0,0,5">
                                                                                        <Run Text="Заказ #"/>
                                                                                        <Run Text="{Binding Id, Mode=OneWay}"/>
                                                                                        <Run Text=" - Зал: "/>
                                                                                        <Run Text="{Binding HallName, Mode=OneWay}"/>
                                                                                        <Run Text=", Стол: "/>
                                                                                        <Run Text="{Binding TableNumber, Mode=OneWay}"/>
                                                                                </TextBlock>
                                                                                <TextBlock FontSize="12"
                                                                                           Foreground="Gray"
                                                                                           Margin="0,0,0,5">
                                                                                        <Run Text="Создан: "/>
                                                                                        <Run Text="{Binding CreatedAt, StringFormat='dd.MM.yyyy HH:mm', Mode=OneWay}"/>
                                                                                        <Run Text=" | Завершен: "/>
                                                                                        <Run Text="{Binding CompletedAt, StringFormat='dd.MM.yyyy HH:mm', Mode=OneWay}"/>
                                                                                </TextBlock>
                                                                                <TextBlock FontSize="12"
                                                                                           Foreground="DarkGray">
                                                                                        <Run Text="Статус: "/>
                                                                                        <Run Text="{Binding StatusName, Mode=OneWay}"/>
                                                                                </TextBlock>
                                                                        </StackPanel>
                                                                        <StackPanel Grid.Column="1"
                                                                                    VerticalAlignment="Center"
                                                                                    HorizontalAlignment="Right">
                                                                                <TextBlock Text="{Binding TotalAmount, StringFormat='{}{0:N2} BYN', Mode=OneWay}"
                                                                                           FontSize="16"
                                                                                           FontWeight="Bold"
                                                                                           Foreground="DarkGreen"
                                                                                           HorizontalAlignment="Right"/>
                                                                        </StackPanel>
                                                                </Grid>
                                                        </Border>
                                                </DataTemplate>
                                        </ListView.ItemTemplate>
                                </ListView>
                        </ScrollViewer>
                </Grid>
                <Border Grid.Row="2"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Margin="0,5,10,5"
                        Background="#EEEEEE"
                        BorderBrush="#CCCCCC"
                        BorderThickness="1"
                        CornerRadius="4">
                        <WrapPanel VerticalAlignment="Center"
                                   Margin="8,0,8,0">
                                <TextBlock x:Name="UserFullNameTextBlock"
                                           FontSize="14"
                                           Foreground="DarkSlateGray"
                                           Padding="0,4,12,4"
                                           VerticalAlignment="Center"/>
                                <TextBlock x:Name="LogoutTimerTextBlock"
                                           FontSize="14"
                                           Foreground="DarkRed"
                                           Padding="0,4,0,4"
                                           VerticalAlignment="Center"/>
                        </WrapPanel>
                </Border>
        </Grid>
</Window>
